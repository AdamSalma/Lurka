@import '~sass/partials'

$watch-item-height: 60px
$watch-panel-width: 432px
$watch-panel-height: 300px

$watch-text-height-1: 25px
$watch-text-height-2: 35px

$watch-group-size: 32px

$watch-right-gutter-width: 6px


$watch-accent-color: color(primary, darkest)

$_img_container_width: $watch-panel-width / 5

.WatchPanel
    +set-dims($watch-panel-width, $watch-panel-height)

    background: grey(8)
    padding: 6px $watch-right-gutter-width 0 6px !important
    border: grey(6) solid 1px !important
    resize: both
    overflow: hidden

    &.show-description
        .description
            display: initial !important
        .tilt-container
            display: none !important

    .description
        display: none
        font-size: 18px
        padding: 20px
        padding-top: 60px


    .nano-pane
        width: 5px
        // right: -$watch-right-gutter-width
        margin-top: $watch-group-size
        margin-bottom: 6px

        .nano-slider
            background: grey(6) !important


    .watch-group
        border-left: $watch-accent-color solid 1px
        margin-bottom: 6px
        user-select: none

        .board-header
            height: $watch-group-size
            line-height: $watch-group-size
            background: $watch-accent-color
            display: inline-block
            font-size: 16px
            text-align: center
            position: relative
            padding: 0 4px
            padding-right: 0 5px
            float: left

    .watch-item
        +clickable
        display: flex
        align-items: center
        position: relative
        overflow: hidden
        min-height: $watch-item-height
        clear: both
        background: grey(9)
        padding: 2px
        margin-bottom: 2px

    .watch-content
        display: flex
        align-items: center
        text-align: left
        height: inherit
        padding: 6px 40px 5px 12px
        font-size: 14px
        width: inherit


    .thumbnail
        align-self: flex-start

        max-height: 48px
        max-width: 48px
        min-height: 48px
        min-width: 48px
        text-align: left

        margin-top: 4px
        margin-right: 12px

        position: relative
        overflow: hidden
        display: inline-block

        img
            max-height: $_img_container_width
            max-width: $watch-item-height
            position: absolute
            +position(50%, 50%)
            transform: translate(-50%, -50%)

    .watch-post
        // display: flex
        // flex-direction: column
        // justify-content: center

        .text
            text-overflow: ellipsis
            white-space: nowrap
            height: $watch-text-height-1
            overflow: hidden
            line-height: $watch-text-height-1
            width: $watch-panel-width - 130px
            text-overflow: ellipsis
            white-space: nowrap
            font-size: 14px

            br, wbr
                display: none


        .watch-stats
            height: $watch-text-height-2
            line-height: $watch-text-height-2
            // padding: 5px 0
            font-size: 12px
            color: color(text-secondary)

            > *
                display: inline-block
                margin-right: 8px

    .watch-controls
        +square($watch-item-height)
        position: absolute
        right: 0
        top: 0
        background: inherit
        display: flex
        flex-direction: column
        justify-content: center
        margin-top: 4px

        > *
            margin: 6px 6px 0

            &:hover
                background: color(primary, dark)
                &.watch-update
                    background: color(secondary, light)






/*
    .watch-group
        .watch-item
            .watch-content

                .watch-post
                    .thumbnail
                    .text
                .watch-stats

            .watch-close
 */

    /* TODO: Refactor this */

/*
        .watch-content
            display: flex
            align-items: center
            flex: 1
            text-align: left
            height: inherit
            padding: 6px 40px 5px 12px
            font-size: 14px

            .thumbnail
                max-height: 48px
                max-width: 48px
                min-height: 48px
                min-width: 48px
                text-align: left
                margin-right: 12px
                line-height: $watch-item-height
                position: relative
                overflow: hidden

                img
                    max-height: $_img_container_width
                    max-width: $watch-item-height
                    position: absolute
                    top: 50%
                    left: 50%
                    transform: translate(-50%, -50%)

            .watch-post
                flex: 1
                text-overflow: ellipsis
                white-space: nowrap
                height: inherit

                > *
                    height: inherit
                    line-height: $watch-item-height













                .boardID
                    margin-right: 6px

                .title
                    padding: 0 4px

                .comment
                    white-space: nowrap
                    overflow: hidden
                    text-overflow: elipses


        .watch-close
            +square($watch-item-height)
            z-index: 1
            background: grey(7)
            text-align: center
            position: absolute
            right: 0
            top: 0
            cursor: pointer
            font-size: 20px
            box-shadow: -2px 0 5px grey(7)
            line-height: $watch-item-height

            > *
                width: $watch-item-height
                display: inline-block

            &:hover
                background: $watch-accent-color

            .timer


